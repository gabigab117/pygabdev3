{% extends 'base.html' %}
{% load wagtailcore_tags %}
{% load wagtailimages_tags %}

{% block content %}
<div class="text-justify">
    <div class="prose mx-auto text-custom-blue">
        {% image page.main_image original class="rounded-xl" alt=page.main_image.title %}

        {{ page.body }}

        {% if page.youtube or page.github or page.production %}
        <div class="mt-8 p-6 bg-[#f3d2c1] rounded-lg shadow-lg">
            <h3 class="text-2xl font-bold mb-4">Liens du projet</h3>
            <div class="flex flex-wrap gap-4">
                {% if page.github %}
                <a href="{{ page.github }}" target="_blank" rel="noopener noreferrer"
                   class="btn btn-outline btn-primary">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                         class="mr-2">
                        <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
                    </svg>
                    GitHub
                </a>
                {% endif %}
                {% if page.youtube %}
                <a href="{{ page.youtube }}" target="_blank" rel="noopener noreferrer"
                   class="btn btn-outline btn-secondary">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                         class="mr-2">
                        <path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"></path>
                        <polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon>
                    </svg>
                    YouTube
                </a>
                {% endif %}
                {% if page.production %}
                <a href="{{ page.production }}" target="_blank" rel="noopener noreferrer"
                   class="btn btn-outline btn-accent">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                         class="mr-2">
                        <circle cx="12" cy="12" r="10"></circle>
                        <line x1="2" y1="12" x2="22" y2="12"></line>
                        <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>
                    </svg>
                    Voir le projet
                </a>
                {% endif %}
            </div>
        </div>
        {% endif %}

        {% with tags=page.tags.all %}
        {% if tags %}
        <div class="mt-8 flex justify-center">
            <div class="p-2 bg-[#f3d2c1] rounded-lg shadow-lg flex flex-col items-center">
                <h3 class="text-2xl font-bold mb-4 text-primary">Tags</h3>
                <div class="flex flex-wrap gap-2">
                    {% for tag in tags %}
                    <a href="{% slugurl 'tags' %}?tag={{ tag }}" class="tag-link">
                        <span class="px-3 py-1 rounded-full text-sm font-medium bg-[#f582ae] text-white hover:bg-[#f36a9f] transition-colors duration-300 ease-in-out inline-flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none"
                                 viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                      d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"/>
                            </svg>
                            {{ tag }}
                        </span>
                    </a>
                    {% endfor %}
                </div>
            </div>
        </div>
        {% endif %}
        {% endwith %}
    </div>

    <hr class="my-6">
    <a href="{{ page.get_parent.url }}"
       class="btn bg-[#f582ae] border-[#f582ae] hover:bg-[#f36a9f] hover:border-[#f36a9f] text-white transition-all duration-300 ease-in-out hover:scale-110">
        Retour
    </a>
</div>
{% endblock %}